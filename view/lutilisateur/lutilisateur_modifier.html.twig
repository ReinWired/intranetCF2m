{# on étend le template depuis base.html.twig, qui est donc son parent #}
{% extends "template.html.twig" %}

{# on veut surcharger le title, on utilise le bloc, on récupère le contenu du parent {{ parent() }} et on rajoute notre texte #}
{% block title %}{{ parent() }} | Modification utilisateur{% endblock %}

{% block menuhaut %}

{% endblock %}

{% block centre %}
    <!-- Page Content -->
    <main role="main" class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h1 class="mt-5">Administration du CF2m</h1>
                <p class="lead">Modification utilisateur</p>
            </div>




            <div class="section col-lg-12">
                <div class="section col-lg-12">
                    <h1 class="mt-5">Modification de  : {{ afficheuser.lenomutilisateur }}</h1>

                </div>

                <form method='POST' name='monForm' action=''>

                    <input type="hidden" name="idutilisateur" id="content-admin" value='{{ afficheuser.idlutilisateur }}'>

                    <div class="form-group">
                        <label for="lenoma">Le nom </label>
                        <input type="text" class="form-control"  id="lenoma" placeholder="ici votre titre" value='{{ afficheuser.lenom }}' required name='lenom'>
                    </div>
                    <div class="form-group">
                        <label for="leprenoma">Le prenom</label>
                        <input type="text" class="form-control" id="leprenoma" placeholder="ici votre titre" value='{{ afficheuser.leprenom }}'  name='leprenom'>
                    </div>
                    <div class="form-group">
                        <label for="lemaila">L'email</label>
                        <input type="email" class="form-control" id="lemaila" placeholder="ici votre titre" value='{{ afficheuser.lemail }}' name='lemail'>
                    </div>



                    {% for cat in afficheroles %}



                        {% set tabId = afficheuser.idlerole|split(",") %}

                        {% if cat.idlerole in tabId %}

                            {% set value = "checked" %}

                        {% else %}
                            {% set value = "" %}
                        {% endif %}
                        <div class="form-check">

                            <input name='idlerole[]' class="form-check-input" type="checkbox" value="{{ cat.idlerole }}" id="defaultCheck{{ loop.index }}" {{ value }}>

                            <label class="form-check-label" for="defaultCheck{{ loop.index }}">
                                {{ cat.lintitule }}

                            </label>
                        </div>

                    {% else %}
                        <h3>Pas de Catégories!</h3>
                    {% endfor %}
                    <br>
                    <button type="submit" class="btn btn-primary">Modifier</button>
                </form>
            </div>
        </div>

    </main>

{% endblock %}

{% block bas %}
    {% include "footer.html.twig" %}
{% endblock %}
