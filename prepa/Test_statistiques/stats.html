<!DOCTYPE html>
<html lang="fr">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="bootstrap/css/bootstrap.css">
    <style>
        th {
            text-align: center;
        }
        
        .table td {
            padding: 0.1rem;
            width: 5rem;
        }
        
        .table td .nom {width: 8rem}
        
        .table td .jour {width:5rem}
        
        .semaine {height: 2.5rem}
        
        .case {
            position: relative;
            margin: 0;
            padding: 0;
            min-height:2em;
            text-align: center;
        }
        
        .case .code {
            position: absolute;
            top:0; left:0;
            width: 40%;
            height:2em;
            line-height: 2em;
        }
        
        .case .debut, .case .duree {
            position: absolute;
            top:0; left:40%;
            width: 60%;
            height: 2em;
            line-height: 2em;
        }

        .case .code2 {
            position: absolute;
            top:2em; left:0;
            width: 40%;
            height:2em;
            line-height: 2em;
        }

        .case .fin {
            position: absolute;
            top:2em; left:40%;
            width: 60%;
            height: 2em;
            line-height: 2em;
        }
        
        .totaux, .totaux td, tfoot {
            text-align: center;
            height: 1em;
            line-height: 1em;
        }
        
        .separateur {
            height: 1em;
        }
        
        .PR {background-color: lightgreen; color: white;}
        .AI {background-color: #FF0000; color: white;}
        .RI {background-color: #0000FF; color: white;}
        .AJ {background-color: #DD0000; color: white;}
        .RJ {background-color: #00CCCC; color: white;}
        .AM {background-color: #BB0000; color: white;}
        .RM {background-color: #006699; color: white;}
        .DA, .D, .R, .A {font-weight: bold;}
    </style>
    <title>Statistiques</title>
  </head>
  <body>
    <main class="container">
    <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th class="nom">Semaines</th>
            <th colspan="2" class="jour">Lundi</th>
            <th colspan="2" class="jour">Mardi</th>
            <th colspan="2" class="jour">Mercredi</th>
            <th colspan="2" class="jour">Jeudi</th>
            <th colspan="2" class="jour">Vendredi</th>
          </tr>
          <tr>
            <td></td>
            <th>Matin</th>
            <th>Après-midi</th>  
            <th>Matin</th>
            <th>Après-midi</th>  
            <th>Matin</th>
            <th>Après-midi</th>  
            <th>Matin</th>
            <th>Après-midi</th>  
            <th>Matin</th>
            <th>Après-midi</th>  
          </tr>
        </thead>
        <tfoot>
            <tr class="separateur"><td colspan="11"></td></tr>    
            <tr class="totaux">
              <th>Jours ouvrés</th>
              <td>13</td>
              <td colspan="4"></td>    
              <th>Totaux</th>
              <th>Jours</th>
              <td>12.0</td>
              <th>Heures</th>
              <td>82:20</td>
            </tr>
        </tfoot>
        <tbody id="contenu">
            
          <tr class="semaine">
            <td>Semaine 1</td>
            <td>
                <div class="case" data-date="18-11-2019" data-type="0">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="18-11-2019" data-type="1">
                  <div class="code AI">AI</div>
                  <div class="duree A">00:00</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="19-11-2019" data-type="0">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="19-11-2019" data-type="1">
                  <div class="code PR">P</div>
                  <div class="duree D">03:00</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="20-11-2019" data-type="0">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="20-11-2019" data-type="1">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="21-11-2019" data-type="0">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="21-11-2019" data-type="1">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="22-11-2019" data-type="0">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="22-11-2019" data-type="1">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
          </tr>
            
          <tr class="semaine">
            <td>Semaine 2</td>
            <td>
                <div class="case" data-date="25-11-2019" data-type="0">
                  <div class="code RJ">RJ</div>
                  <div class="duree R">02:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="25-11-2019" data-type="1">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="26-11-2019" data-type="0">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="26-11-2019" data-type="0">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="27-11-2019" data-type="0">
                  <div class="code RI">RI</div>
                  <div class="duree R">03:10</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="27-11-2019" data-type="0">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="28-11-2019" data-type="0">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="28-11-2019" data-type="1">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="29-11-2019" data-type="0">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="29-11-2019" data-type="1">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
          </tr>

          <tr class="semaine">
            <td>Semaine 3</td>
            <td>
                <div class="case" data-date="18-11-2019" data-type="0">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="18-11-2019" data-type="1">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="19-11-2019" data-type="0">
                  <div class="code AM">AM</div>
                  <div class="duree A">00:00</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="19-11-2019" data-type="1">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="20-11-2019" data-type="0">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="20-11-2019" data-type="1">
                  <div class="code PR">P</div>
                  <div class="duree">03:30</div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="21-11-2019" data-type="0" data-toggle="modal" data-target="#details">
                  <div class="code"></div>
                  <div class="debut"></div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="21-11-2019" data-type="1" data-toggle="modal" data-target="#details">
                  <div class="code"></div>
                  <div class="debut"></div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="22-11-2019" data-type="0" data-toggle="modal" data-target="#details">
                  <div class="code"></div>
                  <div class="debut"></div>
                </div>
            </td>  
            <td>
                <div class="case" data-date="22-11-2019" data-type="1" data-toggle="modal" data-target="#details">
                  <div class="code"></div>
                  <div class="debut"></div>
                </div>
            </td>  
          </tr>

        </tbody>
    </table>
    </main>
      
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalPopovers"> Launch demo modal</button>
      
    <div id="exampleModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLiveLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLiveLabel">Modal title</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>Woohoo, you're reading this text in a modal!</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
      
    <div id="exampleModalPopovers" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalPopoversLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalPopoversLabel">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h5>Popover in a modal</h5>
        <p>This <a href="#" role="button" class="btn btn-secondary popover-test" title="Popover title" data-content="Popover body content is set in this attribute." data-container="#exampleModalPopovers">button</a> triggers a popover on click.</p>
        <hr>
        <h5>Tooltips in a modal</h5>
        <p><a href="#" class="tooltip-test" title="Tooltip" data-container="#exampleModalPopovers">This link</a> and <a href="#" class="tooltip-test" title="Tooltip" data-container="#exampleModalPopovers">that link</a> have tooltips on hover.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>  

    <div id="details" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLiveLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLiveLabel">Nom du stagiaire</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
                <p>Entrez les données pour le [date] - [type]</p>

<form>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputState">Status</label>
      <select id="inputState" class="form-control">
        <option selected>Choisissez...</option>
        <option value="PR">P : Présent</option>
        <option value="RI">RI : Retard injustifié</option>
        <option value="RJ">RJ : Retard justifié</option>
        <option value="RM">RM : Retard message</option>
        <option value="AI">AI : Absence injustifiée</option>
        <option value="AJ">AJ : Absence justifiée</option>
      </select>
    </div>
    <div class="form-group col-md-6">
      <label for="inputPassword4">Heure d'arrivée</label>
      <input type="time" class="form-control" id="debut" placeholder="">
    </div>
  </div>
  <div class="form-row">    
    <div class="form-group col-md-6">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="gridCheck">
        <label class="form-check-label" for="gridCheck">Départ anticipé</label>
      </div>
    </div>
    <div class="form-group col-md-6">
      <label for="inputPassword4">Heure de départ</label>
      <input type="time" class="form-control" id="debut" placeholder="">
    </div>
  </div>
</form>              
              
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
            <button type="button" class="btn btn-primary">Enregistrer</button>
          </div>
        </div>
      </div>
    </div>  
      
      
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="js/jquery-3.4.1.js"></script>
    <script src="js/popper.min.js"></script>  
    <script src="bootstrap/js/bootstrap.js"></script>
      
    <script>
        $(document).ready(function(){
            console.log("jQuery actif");
            
            $("div.case").click(function(){
                console.log("clic sur une case");
                var TRparent = $(this).parent().parent();
                console.log(TRparent.children[0]);
                var ladate = $(this).dataset.date;
                var letype = $(this).dataset.type;
                console.log("Date="+ladate+" Type="+letype);
            });
        });
    </script>  
  </body>
</html>